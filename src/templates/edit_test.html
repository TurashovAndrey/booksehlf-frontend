<div class="panel-body container col-md-12">
    <h4>Test Details</h4>
    <div class="message">
        <span class="error" ng-show="error">{{ error }}</span>
    </div>
    <div class="form-group row">
        <div class="col-lg-6">
            <div class="form-group margin-5">
                <label for="name-input">
                    Name*
                </label>
                <input class="form-control" id="name-input" placeholder="Enter name" ng-model="test.name" ng-disabled="view_mode" required>
            </div>

            <div class="form-group margin-5" >
                <label>
                    Field Unit*
                </label>
                <select ng-model="test.field_unit" class="form-control" placeholder="Choose field unit" ng-disabled="view_mode"
                        ng-options="field_unit.id as field_unit.hostname for field_unit in field_units">
                </select>
            </div>
            <div class="form-group margin-5" >
                <label>
                    Target*
                </label>
                <select ng-model="test.target" class="form-control" placeholder="Choose target" ng-disabled="view_mode"
                        ng-options="target.id as target.friendly_name for target in targets">
                </select>
            </div>
            <div class="form-group margin-5" >
                <label>
                    Instrument*
                </label>
                <select ng-model="test.sensor" class="form-control" placeholder="Choose instrument" ng-disabled="view_mode"
                        ng-options="sensor.id as sensor.friendly_name for sensor in sensors">
                </select>
            </div>
            <div class="form-group margin-5">
                <h4>Parameters:</h4>
                <rd-widget>
                    <rd-widget-body classes="medium no-padding">
                        <td class="table-responsive">
                            <table class="table">
                                        <th>Parameter</th>
                                        <th>Value</th>
                                    </tr>
                                </thead>
                                <tbody ng-repeat="(name, value) in test.parameters track by $index">
                                    <tr>
                                        <td>{{ name }}</td>
                                        <td>{{ value }}</td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                    </rd-widget-body>
                <rd-widget>
            </div>
            <div class="form-group margin-5">
                <label for="interval">
                    Result
                </label>
                <input class="form-control" id="result" placeholder="Enter Result" ng-model="test.result" ng-disabled="view_mode">
            </div>
        </div>
    </div>
    <div>
        <a class="btn btn-primary" ng-click="createTest()" ng-if="!view_mode && !test.id">Create</a>
        <a class="btn btn-primary" ng-click="editTest(test.id)" ng-if="view_mode && test.id">Edit</a>
        <a class="btn btn-primary" ng-click="updateTest()" ng-if="!view_mode && test.id">Update</a>
        <a class="btn btn-primary" ng-click="clearTest()" ng-if="!view_mode && test.id">Reset</a>
        <a class="btn btn-primary" ng-click="cancelTest()">Back</a>
    </div>
</div>

